(this["webpackJsonpgraphql-coding-challenge"]=this["webpackJsonpgraphql-coding-challenge"]||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);n(3);var r=n(75),a=n.n(r),c=n(26),o=n(76),i=n(82),u=n(149),s=n(150),h=n(151),l=n(152),d=n(154),p=n(153),b=n(13);var j,f=function(e){var t=e.chartData,n=750-20-20,r=300-20-20,a=function(e){return e.month},c=function(e){return e.postCount},o=Object(d.a)({range:[0,n],round:!0,domain:t.map(a),padding:.4}),j=Object(p.a)({range:[r,0],round:!0,domain:[0,Math.max.apply(Math,Object(i.a)(t.map(c)))]}),f=function(e,t){return function(n){return e(t(n))}},g=f(o,a),m=f(j,c);return Object(b.jsx)("svg",{width:750,height:300,children:t.map((function(e,t){var n=r-m(e);return Object(b.jsxs)(u.a,{children:[Object(b.jsx)(s.a,{x:g(e),y:r-n,height:n,width:o.bandwidth(),fill:"#3B444B"}),Object(b.jsx)(h.a,{hideTicks:!0,scale:j,tickLabelProps:function(e,t){return{fontSize:11,textAnchor:"end"}}}),Object(b.jsx)(l.a,{top:r,hideTicks:!0,scale:o,tickLabelProps:function(e,t){return{fontSize:11,textAnchor:"middle"}}})]},"bar-".concat(t))}))})},g=Object(c.gql)(j||(j=Object(o.a)(["\n  query GetPosts {\n      allPosts (count: 100) {\n        createdAt\n      }\n    }\n"]))),m=function(){var e=Object(c.useQuery)(g),t=e.loading,n=e.error,r=e.data;if(t)return Object(b.jsx)("p",{children:"Loading..."});if(n)return"Error! ".concat(n.message);var a=[];r.allPosts.forEach((function(e){var t=e.createdAt,n=new Date(Number(t)),r=n.getFullYear(),c=n.getMonth();a.push({year:r,month:c})}));for(var o=a.filter((function(e){return 2019===e.year})),i=[],u=["January","February","March","April","May","June","July","August","September","October","November","December"],s=function(e,t){return e.filter((function(e){return e.month===t})).length},h=0;h<=11;h++)i.push({month:u[h],postCount:s(o,h)});return Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)("h2",{children:"Monthly postcount - 2019"}),Object(b.jsx)(f,{chartData:i})]})},O=new c.ApolloClient({uri:"https://fakerql.stephix.uk/graphql",cache:new c.InMemoryCache}),x=Object(b.jsx)(c.ApolloProvider,{client:O,children:Object(b.jsx)(m,{})});a.a.render(x,document.querySelector("#root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.6fc8cdd0.chunk.js.map